!function(e){var a={};function t(i){if(a[i])return a[i].exports;var l=a[i]={i:i,l:!1,exports:{}};return e[i].call(l.exports,l,l.exports,t),l.l=!0,l.exports}t.m=e,t.c=a,t.d=function(e,a,i){t.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,a){if(1&a&&(e=t(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var l in e)t.d(i,l,function(a){return e[a]}.bind(null,l));return i},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},t.p="",t(t.s=0)}([function(e,a,t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){"use strict";function a(e,a,t){var i,l,n=t,r=function(a){var t=n.includes(parseInt(a.id))?" checked":"",i='<input type="checkbox" class="form-control checkbox" name="'+e+'" value="'+a.id+'"'+t+">";return i+='<label for="'+a.id+'">'+a.text+"</label>"};return l=[],(i=n).length>0&&i.forEach((function(e){l.push(parseInt(e))})),n=l,function a(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=0===i?'<ul class="list '+e+'">':'<ul class="children">';return t.forEach((function(e){var t=!1;e.hasOwnProperty("subcat")&&Array.isArray(e.subcat)&&e.subcat.length&&(t=!0),l+="<li>",l+=r(e),t&&(l+=a(e.subcat,1)),l+="</li>"})),l+="</ul>"}(a)}var t={},l={},n={},r={},o={},s={},d=pro_woo_filter,c=d.setting_fields,p=d.translated_text;function u(e,a,t){var i=document.querySelector(e);i.classList.add("animated",a),i.addEventListener("animationend",(function e(){i.classList.remove("animated",a),i.removeEventListener("animationend",e),"function"==typeof t&&t()}))}function m(){return'<div class="alert-danger" role="alert">'+p.required_field+"</div>"}function f(){return'<div class="alert-danger" role="alert">'+p.unique_field+"</div>"}function v(){return'<span class="alert-message"><strong>Erorr: </strong>'+p.ajax_fail+"</span>"}function _(){return 0!==e(".panel-group").find(".item-panel").length?"item_panel":"setting_panel"}e.fn.getType=function(){return"INPUT"==this[0].tagName?this[0].type.toLowerCase():this[0].tagName.toLowerCase()};var h={init:function(a,t){return!!e.isEmptyObject(l)||!h.getUrlKeys(t).includes(a)},getUrlKeys:function(e){for(var a=[],t=0,i=Object.keys(l);t<i.length;t++){var n=i[t],r=l[n];n!==e&&(a.push(r.url_key),r.hasOwnProperty("url_key_min_price")&&a.push(r.url_key_min_price),r.hasOwnProperty("url_key_max_price")&&a.push(r.url_key_max_price),r.hasOwnProperty("url_key_date_after")&&a.push(r.url_key_date_after),r.hasOwnProperty("url_key_date_before")&&a.push(r.url_key_date_before),r.hasOwnProperty("url_key_range_slider_min")&&a.push(r.url_key_range_slider_min),r.hasOwnProperty("url_key_range_slider_max")&&a.push(r.url_key_range_slider_max))}return a}};function g(e){return!!l.hasOwnProperty(e)&&l[e]}var y=0,b={generateFilterItemID:function(){return"id-"+e(".filter-item").length},generateFilterItems:function(e){for(var a="",t=0,i=Object.keys(e);t<i.length;t++){var n=e[i[t]];l[y]=n,"column"===n.item_type?(a+=b.newColumnStart(y),n.hasOwnProperty("children")&&(y++,a+=b.generateFilterItems(n.children)),a+=b.newColumnEnd()):(a+=b.addNewItem(n.item_type,y,n.title),y++)}return a},createFilterItems:function(e){var a=b.generateFilterItems(e);b.appendItem(a)},addNewItem:function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i="";return""===t&&(t="new filter"),i+='<div class="filter-item" data-filter-id="'+a+'"><div class="filter-header">',i+='<div class="head-title"><span class="filter-title text-bold">',i+=t,i+='</span><span class="filter-type">'+e+"</span>",i+="</div>",i+='<div class="btn-actions">',i+='<span class="btn-link edit-action">'+p.edit+"</span>",i+='<span class="btn-link remove-action">'+p.remove+"</span>",i+="</div>",i+="</div></div>"},newColumnStart:function(e){var a='<div class="filter-item column" data-layout="column" data-filter-id="'+e+'">';return a+='<div class="filter-header">',a+='<div class="head-title"><span class="filter-title text-bold">',a+="Column",a+="</div>",a+='<div class="btn-actions">',a+='<span class="btn-link edit-action">Edit</span>',a+='<span class="btn-link remove-action">Remove</span>',a+="</div>",a+="</div>",a+='<div class="container"><div class="column-inner group-list">'},newColumnEnd:function(){return"</div></div></div>"},addNewColumn:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=b.newColumnStart(e);return t+=a,t+=b.newColumnEnd()},removeItem:function(a){var t=[],n=a.closest(".filter-item").attr("data-filter-id");t.push(n),delete l[n];var r=e(a).closest(".filter-item").attr("data-layout");if("undefined"!==i(r)&&!1!==r&&"column"===r){var o=e(a).closest(".filter-item").find(".column-inner").children(".filter-item");e(o).each((function(a,i){var n=e(i).attr("data-filter-id");t.push(n),delete l[n]}))}a.closest(".filter-item").remove(),b.initSortEvent(),x.displayPanel("removeitem","",t)},appendItem:function(a){e(".append-filter-items").append(a),b.initSortEvent()},initSortEvent:function(){e(".filters-list").hasClass("ui-sortable")?e(".filters-list").sortable("refresh"):e(".filters-list").sortable({handle:".filter-header",connectWith:".group-list",placeholder:"ui-state-highlight",forcePlaceholderSize:!0,opacity:.8,helper:"clone",start:function(a,t){var i=e(this).width();e(t.helper).width(i)}}),e(".append-filter-items .group-list").length>0&&e(".group-list").each((function(){e(this).hasClass("ui-sortable")?e(this).sortable("refresh"):e(this).sortable({handle:".filter-header",connectWith:".filters-list",placeholder:"ui-state-highlight",forcePlaceholderSize:!0,opacity:.8,helper:"clone",start:function(a,t){var i=e(this).width();e(t.helper).width(i)}})}))},addActiveCssClass:function(a){e(".filters-list").find("[data-filter-id="+a+"]").addClass("active-item")},removeActiveCssClass:function(){e(".filters-list .filter-item").removeClass("active-item")}};var w={config:{},init:function(a){w.config={field:"",panelType:"",FilterItemID:"",defaultValues:[]},e.extend(w.config,a);var t="";switch(w.config.field.type){case"text":t=w.inputTextField();break;case"number":t=w.inputTextNumber();break;case"radio":t=w.inputRadioButton();break;case"dropdown":t=w.dropdownMenuField();break;case"multicheckbox":t=w.multicheckboxField();break;case"switchbutton":t=w.switchButtonField();break;case"ajaxdropdown":t=w.ajaxdropdown();break;case"ajaxdropdownselect2":t=w.ajaxdropdownselect2();break;case"ajaxmulticheckboxlist":t=w.ajaxMultiCheckboxList();break;case"ajaxcolor":t=w.ajaxColorField();break;case"displayrules":t=w.displayRulesField.displayRules(w.config.field,w.config.defaultValues);break;case"metafield":t=w.metaField();break;case"boxlistlabel":t=w.boxlistlabel()}return t},fieldWrapStart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";""===e&&(e=w.config.field);var a='<div class="control-group';return a+="radio"===e.type?" inline-radio-buttons":"",a+="ajaxcolor"===e.type?" no-padding":"",a+='">',a+='<div class="control-label">',a+='<span class="label-text">',a+=e.title,e.hasOwnProperty("required")&&"true"===e.required&&(a+='<abbr class="required" title="required">*</abbr>'),a+="</span>",e.hasOwnProperty("description")&&""!==e.description&&(a+='<span class="description">'+e.description+"</span>"),a+="</div>",a+='<div class="control-content">'},fieldWrapEnd:function(){return"</div></div>"},inputTextField:function(){var e=w.config.field,a=w.config.defaultValues,t='<input type="text" name="'+e.param_name+'"';return t+=' class="form-control full-width text',e.hasOwnProperty("cssclass")&&""!==e.cssclass&&(t+=" "+e.cssclass),t+='"',a.hasOwnProperty(e.param_name)?t+=' value="'+a[e.param_name]+'"':e.hasOwnProperty("default")?t+=' value="'+e.default+'"':t+=' value=""',e.hasOwnProperty("placeholder")&&""!==e.placeholder&&(t+=' placeholder="'+e.placeholder+'"'),e.hasOwnProperty("required")&&"true"===e.required&&(t+=' aria-required="true"'),t+="/>",w.fieldWrapStart()+t+w.fieldWrapEnd()},inputTextNumber:function(){var e=w.config.field,a=w.config.defaultValues,t='<input type="number" name="'+e.param_name+'"';return t+=' class="form-control number',e.hasOwnProperty("cssclass")&&""!==e.cssclass&&(t+=" "+e.cssclass),t+='"',a.hasOwnProperty(e.param_name)?t+=' value="'+a[e.param_name]+'"':e.hasOwnProperty("default")?t+=' value="'+e.default+'"':t+=' value=""',e.hasOwnProperty("required")&&"true"===e.required&&(t+=' aria-required="true"'),e.hasOwnProperty("min")&&(t+=' min="'+e.min+'"'),e.hasOwnProperty("max")&&(t+=' max="'+e.max+'"'),t+="/>",w.fieldWrapStart()+t+w.fieldWrapEnd()},inputRadioButton:function(){var e=w.config.field,a=w.config.defaultValues,t="",i="",l=a.hasOwnProperty(e.param_name)?a[e.param_name]:e.default,n=!1;return e.hasOwnProperty("display")&&"list"===e.display&&(n=!0,t+='<ul class="radio-list '+e.param_name+'">'),e.options.forEach((function(a){i="",l===a.id&&(i=" checked"),n&&(t+="<li>"),t+='<span class="pwf-radio-item"><input type="radio" name="'+e.param_name+'" value="'+a.id+'"'+i+'> <label for="'+a.id+'">'+a.text+"</label></span>",n&&(t+="</li>")})),n&&(t+="</ul>"),w.fieldWrapStart()+t+w.fieldWrapEnd()},dropdownMenuField:function(){var a=w.config.field,t=w.config.defaultValues,i="",l="";return t.hasOwnProperty(a.param_name)?l=t[a.param_name]:a.hasOwnProperty("default")&&(l=a.default),i+='<select name="'+a.param_name+'"',i+=' class="form-control full-width dropdown',a.hasOwnProperty("cssclass")&&""!==a.cssclass&&(i+=" "+a.cssclass),e.isEmptyObject(a.options)&&(i+=" pwf-hidden"),i+='"',!e.isEmptyObject(a.options)&&a.hasOwnProperty("required")&&"true"===a.required&&(i+=' aria-required="true"'),i+=">",a.options.forEach((function(e){i+='<option value ="'+e.id+'"',i+=e.id==l?" selected":"",i+=">"+e.text+"</option>"})),i+="</select>",e.isEmptyObject(a.options)&&(i+="<ul><li>"+p.no_option+"</li></ul>"),w.fieldWrapStart()+i+w.fieldWrapEnd()},multicheckboxField:function(){var e=w.config.field,a=w.config.defaultValues,t="",i=[],l='<div class="check-box-list"><ul class="list '+e.param_name+'">';return a.hasOwnProperty(e.param_name)&&""!==a[e.param_name]?i=a[e.param_name]:e.hasOwnProperty("default")&&(i=e.default),e.options.forEach((function(a){t=i.includes(a.id)?" checked":"",l+='<li><input type="checkbox" class="form-control checkbox" name="'+e.param_name+'" value="'+a.id+'"'+t,e.hasOwnProperty("required")&&"true"===e.required&&(l+=' aria-required="true"'),l+='> <label for="'+a.id+'">'+a.text+"</label></li>"})),l+="</ul></div>",w.fieldWrapStart()+l+w.fieldWrapEnd()},switchButtonField:function(){var e=w.config.field,a=w.config.defaultValues,t="",i="";return a.hasOwnProperty(e.param_name)?i="on"===a[e.param_name]?" checked":"":e.hasOwnProperty("default")&&"on"===e.default&&(i=" checked"),t+='<div class="ckbx-style-15 switch-btn">',t+='<input id="pwf-'+e.param_name+'" type="checkbox" name="'+e.param_name+'" class="form-control checkbox-switch-field',e.hasOwnProperty("cssclass")&&""!==e.cssclass&&(t+=" "+e.cssclass),t+='"'+i+'><label for="pwf-'+e.param_name+'" class="slider-btn"></label></div>',w.fieldWrapStart()+t+w.fieldWrapEnd()},ajaxdropdown:function(){var e='<div class="dropdown-list ajax-dropdown-field-'+w.config.field.param_name+'"></div>';return w.fieldWrapStart()+e+w.fieldWrapEnd()},ajaxdropdownselect2:function(){var a=w.config.field,t=w.config.defaultValues,i="",l=[];return t.hasOwnProperty(a.param_name)&&""!==t[a.param_name]?l=t[a.param_name]:a.hasOwnProperty("default")&&(l=a.default),i+='<select name="'+a.param_name+'"',i+=' class="form-control full-width dropdown pwf-select2',a.hasOwnProperty("cssclass")&&""!==a.cssclass&&(i+=" "+a.cssclass),e.isEmptyObject(a.options)&&(i+=" pwf-hidden"),i+='"',!e.isEmptyObject(a.options)&&a.hasOwnProperty("required")&&"true"===a.required&&(i+=' aria-required="true"'),i+=' multiple="multiple">',a.options.forEach((function(e){i+='<option value ="'+e.id+'"',i+=l.includes(e.id)?" selected":"",i+=">"+e.text+"</option>"})),i+="</select>",e.isEmptyObject(a.options)&&(i+="<ul><li>"+p.no_option+"</li></ul>"),w.fieldWrapStart()+i+w.fieldWrapEnd()},ajaxMultiCheckboxList:function(){var e='<div class="check-box-list ajax-field-'+w.config.field.param_name+'"></div>';return w.fieldWrapStart()+e+w.fieldWrapEnd()},ajaxColorField:function(){var e='<div class="color-list '+w.config.field.param_name+'"></div>';return w.fieldWrapStart()+e+w.fieldWrapEnd()},metaField:function(){var e=w.config.field,a=w.config.defaultValues,t='<div class="check-box-list pwf-meta-field-box">';return t+='<div class="inner-meta-field">',t+='<div id="meta-field-items" class="meta-field-items">',a.hasOwnProperty(e.param_name)&&""!==a[e.param_name]&&(t+=j.createMetaFields(w.config.panelType,a[e.param_name])),t+="</div>",t+="</div>",t+='<div class="meta-fields-button"><button class="button pwf-add-new-meta">'+p.add_new+"</button></div>",t+="</div>",w.fieldWrapStart()+t+w.fieldWrapEnd()},boxlistlabel:function(){return w.fieldWrapStart()+'<div class="pwf-box-list-label box-list-label-require-ajax"></div>'+w.fieldWrapEnd()},ajaxdropdownfield:function(e,a){var t="";return t+='<select name="item_source_taxonomy_sub"',t+=' class="form-control full-width dropdown"',t+=">",e.forEach((function(e){t+='<option value ="'+e.id+'"',t+=e.id==a?" selected":"",t+=">"+e.text+"</option>"})),t+="</select>"},boxlistlabelfields:function(e,a){var t="";return e.forEach((function(e){var i="";if(Array.isArray(a)&&a.length){var l=a.find((function(a){return a.term_id==e.id}));l&&(i=l.value)}t+='<div class="lable-item" data-item-label-id="'+e.id+'">',t+='<div class="lable-item-text">'+e.text+"</div>",t+='<div class="lable-item-input"><input type="text" class="form-control full-width text item-value" value="'+i+'" /></div>',t+="</div>"})),t},displayRulesField:{displayRules:function(e,a){var t="";if(t+="<div><strong>"+p.rule_text_if+"</strong></div>",t+='<div class="display-rules-container">',a.hasOwnProperty(e.param_name)&&(a=a[e.param_name]),Array.isArray(a)&&a.length){var i=a,l=0;t+=w.displayRulesField.ruleWrapStart(),i.forEach((function(e){var a={rule_id:l,param:e.param,equal:e.equal,value:e.value};t+=w.displayRulesField.ruleTemplate(a),l++})),t+=w.displayRulesField.ruleWrapEnd()}else{t+=w.displayRulesField.ruleWrapStart();t+=w.displayRulesField.ruleTemplate({rule_id:0,param:"category",equal:"",value:""}),t+=w.displayRulesField.ruleWrapEnd()}return t+="</div>",w.fieldWrapStart(e)+t+w.fieldWrapEnd()},ruleTemplate:function(e){var a="",t=d.display_rule_data.param,i="",l="";if("category"===e.param||r.hasOwnProperty(e.param)||(l=' data-select2-ajax-param="'+e.param+'" data-select2-ajax-value="'+e.value+'"',i=" transparent"),a+='<div class="rule pwf-rule five-col-grid'+i+'" data-rule-id="'+e.rule_id+'">',a+='<div class="rule-item rule-param">',a+='<select name="rule[rule_'+e.rule_id+'][param]" class="form-control full-width field-rule-param">',t.forEach((function(t){a+='<option value ="'+t.id+'"',a+=t.id===e.param?" selected":"",a+=">"+t.text+"</option>"})),a+="</select>",a+="</div>",a+='<div class="rule-item rule-equal">',a+="<span>"+p.equalto+"</span>",a+="</div>",a+='<div class="rule-item rule-value">',a+='<select name="rule[rule_'+e.rule_id+'][value]" class="form-control full-width field-rule-value-select2"'+l+">","category"===e.param)d.product_categories.forEach((function(t){a+='<option value ="'+t.id+'"',a+=t.id==e.value?" selected":"",a+=">"+t.text+"</option>"}));else if(r.hasOwnProperty(e.param)){var n=r[e.param];a+=w.displayRulesField.ruleOptgroup(n,e.value)}return a+="</select>",a+="</div>",a+='<div class="rule-item rule-add">',a+='<button class="button add-rule">'+p.rule_text_or+"</button>",a+="</div>",a+='<div class="rule-item rule-delete">',0!==e.rule_id&&(a+='<button class="button button-link-delete remove-rule">-</button>'),a+="</div>",a+="</div>"},ruleWrapStart:function(){return'<div class="rule-group">'},ruleWrapEnd:function(){return"</div>"},ruleOptgroup:function(e,a){var t="";return e.forEach((function(e){e.hasOwnProperty("children")?(t+='<optgroup label="'+e.text+'">',e.children.forEach((function(e){t+='<option value ="'+e.id+'"',t+=e.id==a?" selected":"",t+=">"+e.text+"</option>"})),t+="</optgroup>"):(t+='<option value ="'+e.id+'"',t+=e.id==a?" selected":"",t+=">"+e.text+"</option>")})),t},addNewRule:function(a){var t=e(a).closest(".rule").attr("data-rule-id"),i={rule_id:Number(t)+1,param:"category",equal:"",value:""},l=w.displayRulesField.ruleTemplate(i);e(a).closest(".rule-group").append(l),k.initEventRuleDisplayField()},removeRule:function(a){var t=e(a).closest(".rule");e(t).remove()}},colorFields:function(e,a,t){var i="";return a.forEach((function(e){var a="",l="",n="color",r="",o="light";if(Array.isArray(t)&&t.length){var s=t.find((function(a){return a.term_id==e.id}));s&&(a=s.color,l=s.image,n=s.type,r=s.bordercolor,o=s.marker)}i+='<div class="color-item" term-id="'+e.id+'">',i+='<div class="color-inner">',i+='<div class="color-term-header">',i+='<div class="preview-term-container"><div class="preview-holder"'+("color"===n&&""!==a?" style=background-color:"+a:"")+">","image"===n&&""!==l&&(i+='<img class="preview-image" src="'+l+'">'),i+="</div></div>",i+='<div class="term-name-container"><span class="term-name">'+e.text+"</span></div>",i+="</div>",i+='<div class="color-term-content">',i+='<div class="inner-fields">';var d="color"===n?"":" hidden";i+='<div class="container list-container">',i+='<div class="color-container'+d+'">',i+='<div class="header"><span class="text">'+p.color+"</span></div>",i+='<div class="content">',i+='<input type="text" name="color-'+e.id+'" class="color-field" value="'+a+'"/>',i+="</div>",i+="</div>",i+='<div class="image-container'+(d="image"===n?"":" hidden")+'">',i+='<div class="header"><span class="text">'+p.image+"</span></div>",i+='<div class="content">',i+='<input type="text" name="image'+e.id+'" class="text hidden image-field" value="'+l+'"/>',i+='<button class="button btn-upload-image">'+p.upload_image+"</button>",i+="</div>",i+="</div>",i+="</div>",i+='<div class="type-container list-container">',i+='<div class="header"><span class="text">'+p.type+"</span></div>",i+='<div class="content"><div class="radio-as-button">';var c="color"===n?" checked":"";i+='<span class="field-type"><input type="radio" class="type-field" id="color-'+e.id+'" name="type'+e.id+'" value="color"'+c+'/> <label for="color">'+p.color+"</label></span>",c="image"===n?" checked":"",i+='<span class="field-type"><input type="radio" class="type-field" id="thumb-'+e.id+'" name="type'+e.id+'" value="image"'+c+'/> <label for="image">'+p.image+"</label></span>",i+="</div></div>",i+="</div>",i+="</div>",i+='<div class="inner-fields">',i+='<div class="border-container list-container">',i+='<div class="header"><span class="text">'+p.border+"</span></div>",i+='<div class="content"><div class="wrap-color">',i+='<input type="text" class="bordercolor-field" name="bordercolor'+e.id+'" class="color-field" value="'+r+'"/>',i+="</div></div>",i+="</div>",i+='<div class="marker-container list-container">',i+='<div class="header"><span class="text">'+p.marker+"</span></div>",i+='<div class="content"><div class="radio-as-button">',c="light"===o?" checked":"",i+='<span class="field-type"><input type="radio" class="marker-field" id="markerlight-'+e.id+'" name="marker'+e.id+'" value="light"'+c+'/> <label lass="field-type-text">'+p.marker_light+"</label></span>",c="dark"===o?" checked":"",i+='<span class="field-type"><input type="radio" class="marker-field" id="markerdark-'+e.id+'" name="marker'+e.id+'" value="dark"'+c+'/> <label lass="field-type-text">'+p.marker_dark+"</label></span>",i+="</div></div>",i+="</div>",i+="</div>",i+="</div>",i+="</div>",i+="</div>"})),i}},x={config:{},init:function(a){return x.config={panelType:"",FilterItemID:"",defaultValues:[],requireValidate:"false",displayVisualTab:!1,predefinedPanel:""},e.extend(x.config,a),x.panelTemplate()},getPanelFields:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[],i=[],l=pro_woo_filter.panel_feilds;""===a&&(a=x.config.panelType),l.forEach((function(l){-1!=e.inArray(a,l.panel)&&("general"===l.group?t.push(l):"visual"===l.group&&i.push(l))}));var n={general:t,visual:i};return n},panelTemplate:function(){var e="",a=x.getPanelFields(),t=a.general,i=a.visual;Array.isArray(i)&&i.length&&(x.config.displayVisualTab=!0);var l={panelType:x.config.panelType,defaultValues:x.config.defaultValues};return e+=x.panelHeader(),e+=x.tabStartGeneral(),t.forEach((function(a){l.field=a,l.defaultValues=x.config.defaultValues,l.defaultValues.length<1&&("radiolist"===x.config.panelType&&"stockstatus"===x.config.predefinedPanel&&("title"===a.param_name&&(l.defaultValues={title:"Stock status"}),"url_key"===a.param_name&&(l.defaultValues={url_key:"stock-status"}),"source_of_options"===a.param_name&&(l.defaultValues={source_of_options:"stock_status"})),"checkboxlist"===x.config.panelType&&"productcategories"===x.config.predefinedPanel&&("title"===a.param_name&&(l.defaultValues={title:"Product categories"}),"url_key"===a.param_name&&(l.defaultValues={url_key:"product-category"})),"priceslider"===x.config.panelType&&"url_key"===a.param_name&&(l.defaultValues={url_key:"price"}),"search"===x.config.panelType&&(l.defaultValues={url_key:"s",title:"Search"}),"rangeslider"===x.config.panelType&&"source_of_options"===l.field.param_name&&(l.field.default="attribute")),e+=w.init(l)})),e+=x.tabEndWrap(),x.config.displayVisualTab&&(e+=x.tabStartVisual(),i.forEach((function(a){l.field=a,e+=w.init(l)})),e+=x.tabEndWrap()),e+=x.panelFooter()},panelHeader:function(){var e="";return e+='<div class="panel-item item-panel postbox status-active-panel panel-'+x.config.panelType+'" data-filter-panel-id="'+x.config.FilterItemID+'" data-required-validate="'+x.config.requireValidate+'" data-panel-type="'+x.config.panelType+'">',e+='<div class="panel-container">',e+='<div class="panel-header">',e+='<div class="wrap-title"><h2 class="panel-title"><span class="link-back">< '+p.btn_back+"</span>"+x.config.panelType+"</h2></div>",e+='<div class="tabs-nav">',e+='<span class="nav-tab-heading nav-general active-tab" data-tab-id="general">'+p.general+"</span>",x.config.displayVisualTab&&(e+='<span class="nav-tab-heading nav-selectors" data-tab-id="visual">'+p.visual+"</span>"),e+="</div>",e+="</div>",e+='<div class="inside">',e+='<form class="option-panel-form">',e+='<div class="wrap-tabs">'},panelFooter:function(){var e="",a="false"===x.config.requireValidate?" disabled":"";return e="</div></form>",e+='<div class="panel-nav">',e+='<button class="button reset-panel-button">'+p.btn_reset+"</button>",e+='<button class="button apply-panel-button"'+a+">"+p.btn_apply+"</button>",e+="</div>",e+="</div>",e+="</div>",e+="</div>"},tabStartGeneral:function(){return'<div class="tab-content active-tab" data-tab-id="general">'},tabStartVisual:function(){return'<div class="tab-content" data-tab-id="visual">'},tabEndWrap:function(){return"</div>"},editPanel:function(a){if(P.processingPanel()){var t="",i=[],l=e(a).closest(".filter-item").attr("data-filter-id"),n=g(l);if(n){if(i=n,s.hasOwnProperty(l))t=s[l];else{var r={panelType:i.item_type,FilterItemID:l,defaultValues:i,requireValidate:"false",predefinedPanel:""};t=x.init(r)}x.displayPanel("edititem",t,l)}}},apply_panel_button:function(){P.processingPanel()},backLinkButton:function(){x.displayPanel("backfromeditpanel")},resetPanel:function(){var a=_();if("item_panel"===a){var t=e(".panel-group .item-panel").attr("data-panel-type"),i=e(".panel-group .item-panel").attr("data-filter-panel-id"),l=x.getPanelFields(t),n=l.general,r=l.visual,o=e.merge(n,r);o.forEach((function(a){if("multicheckbox"===a.type||"ajaxmulticheckboxlist"===a.type){var t=a.default;e(a.options).each((function(i,l){e("[name="+a.param_name+"]").prop("checked",!1),-1!=e.inArray(l.id,t)&&e('[name="'+a.param_name+'"]').prop("checked",!0).trigger("change")}))}else"switchbutton"===a.type?(e("[name="+a.param_name+"]").prop("checked",!1),a.hasOwnProperty("default")&&"on"===a.default&&e('[name="'+a.param_name+'"]').prop("checked",!0).trigger("change")):"radio"===a.type?(e("[name="+a.param_name+"]").checked=!1,e(a.options).each((function(t,i){a.default==i.id&&e('[name="'+a.param_name+'"][value="'+i.id+'"]').prop("checked",!0).trigger("change")}))):e('.option-panel-form [name="'+a.param_name+'"]').val(a.default).trigger("change")})),e(".filter-items-panel").find("[data-filter-id="+i+"]").find(".filter-title").text(o.title),e("ul.exclude").closest(".control-group").slideUp("fast"),e("ul.include").closest(".control-group").slideUp("fast"),P.addAttributeRequiredValidate(a,"true")}else{var s=e(".setting-panel-form :input");e(s).each((function(a,t){e(t).hasClass("text")?e(t).val(e(t).attr("data-default-value")):e(t).hasClass("checkbox")?Array.isArray(t)&&t.length?e(t).each((function(a,t){"checked"===e(t).attr("data-default-value")?e(t).prop("checked",!0):e(t).prop("checked",!1)})):"checked"===e(t).attr("data-default-value")?e(t).prop("checked",!0):e(t).prop("checked",!1):e(t).hasClass("dropdown")?e(t).val(e(t).attr("data-default-value")):e(t).hasClass("checkbox-switch-field")&&("on"===e(t).attr("data-default-value")?e(t).prop("checked",!0):e(t).prop("checked",!1))})),P.addAttributeRequiredValidate(a,"true")}},displayPanel:function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,n="slideOutRight",r="slideInRight";if(e("body").hasClass("rtl")&&(n="slideOutLeft",r="slideInLeft"),"backfromfiltertypepanel"===a)b.removeActiveCssClass(),u(".status-active-panel",n,(function(){e(".panel-group").find(".status-active-panel").remove(),e(".panel-group").find(".status-unactive-panel").removeClass("status-unactive-panel").addClass("status-active-panel"),u(".status-active-panel",r,(function(){}))}));else if("backfromeditpanel"===a)P.processingPanel()&&(b.removeActiveCssClass(),u(".status-active-panel",n,(function(){e(".panel-group").find(".status-active-panel").remove(),e(".panel-group").find(".status-unactive-panel").addClass("status-active-panel").removeClass("status-unactive-panel"),u(".status-active-panel",r,(function(){}))})));else if("removeitem"===a){var o="";if(Array.isArray(i)&&i.length)for(var s=0;s<i.length;s++)if(0!==e(".panel-group").find('[data-filter-panel-id="'+i[s]+'"]').length){o=i[s];break}""!==o&&(b.removeActiveCssClass(),u(".status-active-panel",n,(function(){e(".panel-group").find(".status-active-panel").remove(),e(".panel-group").find(".status-unactive-panel").addClass("status-active-panel").removeClass("status-unactive-panel"),u(".status-active-panel",r,(function(){}))})))}else"additem"===a?0===e(".panel-group").find(".panel-filter-type").length&&(b.removeActiveCssClass(),e(".panel-group").find(".item-panel").length>0?u(".status-active-panel",n,(function(){e(".panel-group").find(".status-active-panel").remove(),e(".panel-group").append(t),u(".status-active-panel",r,(function(){}))})):u(".status-active-panel",n,(function(){e(".panel-group").find(".status-active-panel").addClass("status-unactive-panel").removeClass("status-active-panel"),e(".panel-group").append(t),u(".status-active-panel",r,(function(){}))}))):"edititem"===a?0===e(".panel-group").find('[data-filter-panel-id="'+i+'"]').length&&(b.removeActiveCssClass(),e(".panel-group").find(".item-panel").length>0?u(".status-active-panel",n,(function(){e(".panel-group").find(".status-active-panel").remove(),e(".panel-group").append(t),b.addActiveCssClass(i),j.sortEvent(),j.colorFieldEvent(),k.initEditPanelEvent(),u(".status-active-panel",r,(function(){}))})):u(".status-active-panel",n,(function(){e(".panel-group").find(".status-active-panel").addClass("status-unactive-panel").removeClass("status-active-panel"),e(".panel-group").append(t),b.addActiveCssClass(i),j.sortEvent(),j.colorFieldEvent(),k.initEditPanelEvent(),u(".status-active-panel",r,(function(){}))}))):"additemtype"===a&&(b.removeActiveCssClass(),e(".panel-group").find(".item-panel").length,u(".status-active-panel",n,(function(){e(".panel-group").find(".status-active-panel").remove(),b.appendItem(l),e(".panel-group").append(t),k.initEditPanelEvent(),j.sortEvent(),j.colorFieldEvent(),u(".status-active-panel",r,(function(){}))})))}},k={getSourceOptionsData:function(){var a={doAjax:!1,data:"",args:"",cachedTaxonomyName:""},t="",i="",l="",r=e('[name="source_of_options"]').val();"category"===r?(t=e('[name="item_source_category"]').val(),i="product_cat",l="item_source_category"):"attribute"===r?(i=e('[name="item_source_attribute"]').val(),l="item_source_attribute"):"taxonomy"===r&&(t=e('[name="item_source_taxonomy_sub"]').val(),i=e('[name="item_source_taxonomy"]').val(),l="item_source_taxonomy");var o=r+t+i+l;return a.cachedTaxonomyName=o,n.hasOwnProperty(o)?a.data=n[o]:(a.doAjax=!0,a.args={source_of_option:r,taxonomy_name:i,parent:t}),a},DisplayOrHideIncludeExludeFields:function(){var a=e('[name="item_display"]').val(),t=e(".ajax-field-include").closest(".control-group"),i=e(".ajax-field-exclude").closest(".control-group");"selected"==a?(t.show(),i.hide()):"except"==a?(i.show(),t.hide()):(i.hide(),t.hide()),e('[name="item_display"]').change((function(){var a=e(this).val();"selected"==a?(t.slideDown("fast"),i.slideUp("fast")):"except"==a?(i.slideDown("fast"),t.slideUp("fast")):(i.slideUp("fast"),t.slideUp("fast"))}))},displayParentOption:function(){var a=e('[name="source_of_options"]').val();"category"===a||"taxonomy"===a?e('[name="item_display"] option[value="parent"]').show():(e('[name="item_display"] option[value="parent"]').hide(),"parent"==e('[name="item_display"]').val()&&e('[name="item_display"]').val("all"));if(e(".panel-item.item-panel").hasClass("panel-rangeslider")){var t=e('[name="source_of_options"]');"category"===t.val()&&e(t).val("attribute"),e(t).find('option[value="category"]').hide(),e(t).find('option[value="tag"]').hide(),e(t).find('option[value="orderby"]').hide(),e(t).find('option[value="author"]').hide(),e(t).find('option[value="stock_status"]').hide(),e(t).find('option[value="on_sale"]').hide(),e(t).find('option[value="featured"]').hide()}if(!e(".panel-item.item-panel").hasClass("panel-checkboxlist")){var i=e('[name="source_of_options"]');e(i).find('option[value="on_sale"]').attr("disabled",!0),e(i).find('option[value="featured"]').attr("disabled",!0)}},colorFieldEvent:function(){e(".color-field").wpColorPicker({border:!0,change:function(a,t){P.addAttributeRequiredValidate("item_panel","true"),e(this).closest(".color-item").find(".preview-image").length>0&&e(this).closest(".color-item").find(".preview-image").remove(),e(this).closest(".color-item").find(".preview-holder").css("background-color",t.color.toString())}}),e(".bordercolor-field").wpColorPicker({border:!0,change:function(e,a){P.addAttributeRequiredValidate("item_panel","true")}})},fillAjaxColorFields:function(){var a="",t=[],i=e('[name="source_of_options"]').val();if("meta"!=i){if(e(".color-list").closest(".control-group").show(),"item_panel"===_()){var l=g(e(".panel-group .item-panel").attr("data-filter-panel-id"));l&&(t=l.colors)}var r=k.getSourceOptionsData();if(!1===r.doAjax){var o=r.data;a=w.colorFields("colors",o,t),e(".color-list").empty(),e(".color-list").append(a),k.colorFieldEvent()}else{e(".color-list").closest(".control-group").addClass("transparent");var s=C("get_taxonomies_using_ajax",r.args);s.done((function(i){i.data.hasOwnProperty("data")?(n[r.cachedTaxonomyName]=i.data.data,a=w.colorFields("colors",i.data.data,t)):a='<li class="alert-message">'+i.data.message+"</li>",e(".color-list").closest(".control-group").removeClass("transparent"),e(".color-list").empty(),e(".color-list").append(a),k.colorFieldEvent()})),s.fail((function(t,i,l){a='<li class="alert-message">'+v()+"</li>",e(".color-list").empty(),e(".color-list").append(a),e(".color-list").closest(".control-group").removeClass("transparent")}))}}else e(".color-list").closest(".control-group").hide()},changeTaxonomyDropdowList:function(){var a="",t="",i=e('[name="source_of_options"]').val(),l=e('[name="item_source_taxonomy"]').val(),r=e('[name="item_source_taxonomy_sub"]').val();if("taxonomy"===i){if("item_panel"===_()){var o=g(e(".panel-group .item-panel").attr("data-filter-panel-id"));o&&"taxonomy"===o.source_of_options&&(t=o.item_source_taxonomy_sub)}var s="taxonomysubchildren"+i+l+r;if(n.hasOwnProperty(s)){var d=n[s];a=w.ajaxdropdownfield(d,t),e(".ajax-dropdown-field-item_source_taxonomy_sub").empty(),e(".ajax-dropdown-field-item_source_taxonomy_sub").closest(".control-group").slideDown("fast"),e(".ajax-dropdown-field-item_source_taxonomy_sub").append(a)}else{e(".ajax-dropdown-field-item_source_taxonomy_sub").closest(".control-group").addClass("transparent");var c=C("get_taxonomies_using_ajax",{parent:r,source_of_option:i,taxonomy_name:l,add_all_text:"true"});c.done((function(i){i.data.hasOwnProperty("data")?(n[s]=i.data.data,a=w.ajaxdropdownfield(i.data.data,t)):a='<li class="alert-message">'+i.data.message+"</li>",e(".ajax-dropdown-field-item_source_taxonomy_sub").empty(),e(".ajax-dropdown-field-item_source_taxonomy_sub").closest(".control-group").slideDown("fast"),e(".ajax-dropdown-field-item_source_taxonomy_sub").append(a),e(".ajax-dropdown-field-item_source_taxonomy_sub").closest(".control-group").removeClass("transparent")})),c.fail((function(t,i,l){a='<li class="alert-message">'+v()+"</li>",e(".ajax-dropdown-field-item_source_taxonomy_sub").empty(),e(".ajax-dropdown-field-item_source_taxonomy_sub").closest(".control-group").slideDown("fast"),e(".ajax-dropdown-field-item_source_taxonomy_sub").append(a),e(".ajax-dropdown-field-item_source_taxonomy_sub").closest(".control-group").removeClass("transparent")}))}}else e(".ajax-dropdown-field-item_source_taxonomy_sub").closest(".control-group").slideUp("fast")},changeIncludeExcludeFieldData:function(){console.log("here");var t="",i=[],l="",n="",r="",s=[],d=e('[name="source_of_options"]').val(),c=e('[name="item_display"]').val();if(!["attribute","category","taxonomy","tag","author"].includes(d)||"selected"!=c&&"except"!=c)e(".ajax-field-exclude").closest(".control-group").slideUp("fast"),e(".ajax-field-include").closest(".control-group").slideUp("fast");else{if(console.log("You are here "+d),"category"===d)l=e('[name="item_source_category"]').val(),r="product_cat",n="item_source_category";else if("attribute"===d)r=e('[name="item_source_attribute"]').val(),n="item_source_attribute";else if("taxonomy"===d)l=e('[name="item_source_taxonomy_sub"]').val(),r=e('[name="item_source_taxonomy"]').val(),n="item_source_taxonomy";else if("author"===d){var p=[],u=e('[name="user_roles"]').select2("data");e.each(u,(function(e,a){p.push(a.id)})),p.length&&(s=p)}var m="include";if("except"==c&&(m="exclude"),"item_panel"===_()){var f=g(e(".panel-group .item-panel").attr("data-filter-panel-id"));if(f){var h=f.source_of_options;i=("category"===h&&"category"===d&&l==f[l]||"taxonomy"===h&&"taxonomy"===d&&r==f[n]&&l==f[l]||"attribute"===h&&"attribute"===d&&f[n],f[m])}}var y="hierarchy"+d+l+r+n+s.toString();if(o.hasOwnProperty(y)){var b=o[y];t=a(m,b,i),e(".ajax-field-"+m).empty(),e(".ajax-field-"+m).closest(".control-group").slideDown("fast"),e(".ajax-field-"+m).append(t)}else{e(".ajax-field-"+m).closest(".control-group").addClass("transparent");var w=C("get_hierarchy_taxonomies_using_ajax",{source_of_option:d,taxonomy_name:r,parent:l,user_roles:s});w.done((function(l){l.data.hasOwnProperty("data")?(o[y]=l.data.data,t=a(m,l.data.data,i)):t='<li class="alert-message">'+l.data.message+"</li>",e(".ajax-field-"+m).empty(),e(".ajax-field-"+m).closest(".control-group").slideDown("fast"),e(".ajax-field-"+m).append(t),e(".ajax-field-"+m).closest(".control-group").removeClass("transparent")})),w.fail((function(a,i,l){t='<li class="alert-message">'+v()+"</li>",e(".ajax-field-"+m).empty(),e(".ajax-field-"+m).closest(".control-group").slideDown("fast"),e(".ajax-field-"+m).append(t),e(".ajax-field-"+m).closest(".control-group").removeClass("transparent")}))}}},changeboxlistlabel:function(){var a="",t=[],i=e('[name="source_of_options"]').val();if(!["meta","stock_status","on_sale","featured"].includes(i)){if("item_panel"===_()){var l=g(e(".panel-group .item-panel").attr("data-filter-panel-id"));l&&(t=l.boxlistlabel)}var r=k.getSourceOptionsData();if(!1===r.doAjax){var o=r.data;a=w.boxlistlabelfields(o,t),e(".box-list-label-require-ajax").empty(),e(".box-list-label-require-ajax").append(a)}else{e(".box-list-label-require-ajax").closest(".control-group").addClass("transparent");var s=C("get_taxonomies_using_ajax",r.args);s.done((function(i){i.data.hasOwnProperty("data")?(n[r.cachedTaxonomyName]=i.data.data,a=w.boxlistlabelfields(i.data.data,t)):a='<li class="alert-message">'+i.data.message+"</li>",e(".box-list-label-require-ajax").closest(".control-group").removeClass("transparent"),e(".box-list-label-require-ajax").empty(),e(".box-list-label-require-ajax").append(a)})),s.fail((function(t,i,l){a='<li class="alert-message">'+v()+"</li>",e(".box-list-label-require-ajax").empty(),e(".box-list-label-require-ajax").append(a),e(".box-list-label-require-ajax").closest(".control-group").removeClass("transparent")}))}}},ajaxRuleDisplay:function(){var a=e(".display-rules-container").find("[data-select2-ajax-param]");if(a.length>0){var t=a.length,i=0;!function l(n){var o=e(n).attr("data-select2-ajax-param"),s=e(n).attr("data-select2-ajax-value");if(r.hasOwnProperty(o)){var d=w.displayRulesField.ruleOptgroup(r[o],s);e(n).empty().append(d).select2({width:"100%"}),e(n).closest(".rule").removeClass("transparent"),++i<t&&l(a[i])}else{C("get_group_taxonomies_using_ajax","",o).done((function(d){r[o]=d.data.data;var c=w.displayRulesField.ruleOptgroup(d.data.data,s);e(n).empty().append(c).select2({width:"100%"}),e(n).closest(".rule").removeClass("transparent"),++i<t&&l(a[i])}))}}(a[i])}},initEventRuleDisplayField:function(){e(".rule-group").each((function(){e(this).find(".rule").removeClass("last-rule").last().addClass("last-rule")})),e(".field-rule-param, .field-rule-equal,.field-rule-value-select2").on("change",(function(){P.addAttributeRequiredValidate("item_panel","true");var a=e(this).closest(".control-content").find(".alert-danger");a&&a.remove()})),e(".field-rule-value-select2").select2({width:"100%"})},initEditPanelEvent:function(){(e(".panel-colorlist").length>0&&k.fillAjaxColorFields(),e('[name="price_url_format"]').length)&&("dash"===e('[name="price_url_format"]:checked').val()?e('[name="url_key_min_price"], [name="url_key_max_price"]').closest(".control-group").hide():e('[name="url_key_min_price"], [name="url_key_max_price"]').closest(".control-group").show());e('[name="range_slider_url_format"]').length&&("dash"===e('[name="range_slider_url_format"]:checked').val()?e('[name="url_key_range_slider_min"], [name="url_key_range_slider_max"]').closest(".control-group").hide():e('[name="url_key_range_slider_min"], [name="url_key_range_slider_max"]').closest(".control-group").show());(e('[name="display_toggle_content"]').is(":checked")?e('[name="default_toggle_state"]').closest(".control-group").show():e('[name="default_toggle_state"]').closest(".control-group").hide(),e('[name="display_title"]').is(":checked")?(e('[name="display_toggle_content"]').closest(".control-group").show(),e('[name="display_toggle_content"]').is(":checked")&&e('[name="default_toggle_state"]').closest(".control-group").show()):(e('[name="display_toggle_content"]').closest(".control-group").hide(),e('[name="default_toggle_state"]').closest(".control-group").hide()),k.eventSourceOfOptions(e('[name="source_of_options"]').val(),"fast"),"on"===e('[name="multi_select"]:checked').val()?e('[name="query_type"]').closest(".control-group").show():e('[name="query_type"]').closest(".control-group").hide(),e('[name="inline_style"]').length>0&&(e('[name="inline_style"]').is(":checked")?e('[name="display_hierarchical"]').closest(".control-group").hide():e('[name="display_hierarchical"]').closest(".control-group").show()),e(".panel-colorlist").length>0&&e('[name="source_of_options"] option[value="stock_status"]').hide(),(e(".panel-checkboxlist").length>0||e(".panel-boxlist").length>0||e(".panel-colorlist").length>0||e(".panel-textlist").length>0)&&e('[name="source_of_options"] option[value="orderby"]').hide(),e(".pwf-select2").length>0&&e(".pwf-select2").select2({width:"100%"}),e(".panel-item.item-panel").hasClass("panel-rangeslider"))&&("custom"===e('[name="range_slider_meta_source"]').val()?e('[name="meta_key"]').closest(".control-group").show():e('[name="meta_key"]').closest(".control-group").hide());k.displayParentOption(),k.changeTaxonomyDropdowList(),k.DisplayOrHideIncludeExludeFields(),k.changeIncludeExcludeFieldData(),k.ajaxRuleDisplay(),k.changeboxlistlabel()},eventSourceOfOptions:function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fast",i=[],l=[],n=['[name="meta_key"], [name="meta_compare"], [name="meta_type"]',".pwf-meta-field-box",'[name="range_slider_meta_source"]'],r=['[name="item_source_stock_status"]','[name="in_stock_text"]','[name="out_of_stock_text"]'],o=['[name="item_source_category"]','[name="item_source_taxonomy"]','[name="item_source_attribute"]','[name="item_source_stock_status"]','[name="item_display"]','[name="item_source_orderby"]','[name="product_variations"]','[name="user_roles"]','[name="order_by"]','[name="display_hierarchical"]','[name="display_hierarchical_collapsed"]','[name="more_options_by"]','[name="height_of_visible_content"]','[name="range_slider_meta_source"]',".ajax-dropdown-field-item_source_taxonomy_sub",".ajax-field-include",".ajax-field-exclude",".pwf-meta-field-box"];o=o.concat(r,n),"on_sale"===a||"featured"===a?i=o:"stock_status"===a?l=r:"orderby"===a?l=['[name="item_source_orderby"]']:"author"===a?l=['[name="user_roles"]','[name="item_display"]','[name="more_options_by"]','[name="height_of_visible_content"]','[name="order_by"]']:"category"===a?(i=(i=['[name="item_source_taxonomy"]','[name="item_source_orderby"]','[name="item_source_attribute"]','[name="product_variations"]','[name="user_roles"]',".ajax-dropdown-field-item_source_taxonomy_sub",".pwf-meta-field-box"]).concat(r,n),e('[name="display_hierarchical"]').is(":checked")||i.push('[name="display_hierarchical_collapsed"]')):"taxonomy"===a?(i=(i=['[name="item_source_category"]','[name="item_source_orderby"]','[name="item_source_attribute"]','[name="product_variations"]','[name="user_roles"]',".pwf-meta-field-box"]).concat(r,n),e('[name="display_hierarchical"]').is(":checked")||i.push('[name="display_hierarchical_collapsed"]')):"attribute"===a?i=(i=['[name="item_source_category"]','[name="item_source_taxonomy"]','[name="item_source_orderby"]','[name="user_roles"]',".pwf-meta-field-box",".ajax-dropdown-field-item_source_taxonomy_sub",'[name="display_hierarchical"]','[name="display_hierarchical_collapsed"]']).concat(r,n):"tag"===a?i=(i=['[name="item_source_category"]','[name="item_source_taxonomy"]','[name="item_source_attribute"]','[name="item_source_orderby"]','[name="product_variations"]','[name="user_roles"]',".pwf-meta-field-box",".ajax-dropdown-field-item_source_taxonomy_sub",'[name="display_hierarchical"]','[name="display_hierarchical_collapsed"]']).concat(r,n):"meta"===a&&((l=n).push('[name="more_options_by"]','[name="height_of_visible_content"]'),e(".panel-item.item-panel").hasClass("panel-rangeslider")&&e('[name="meta_key"]').closest(".control-group").slideUp("fast"));var s=["category","taxonomy","attribute","author","tag"];if(s.includes(a)){var d=e('[name="item_display"]').val(),c=!1,p=!1;"selected"==d?(c=!0,p=!1):"except"==d&&(c=!1,p=!0),"author"===a?(c&&l.push(".ajax-field-include"),p&&l.push(".ajax-field-exclude")):(c||i.push(".ajax-field-include"),p||i.push(".ajax-field-exclude"))}if(l.length>0)for(var u=0;u<o.length;u++){var m=o[u];l.includes(m)?k.hideShowField(m,"show",t):k.hideShowField(m,"hide",t)}else for(u=0;u<o.length;u++){var f=o[u];i.includes(f)?k.hideShowField(f,"hide",t):k.hideShowField(f,"show",t)}var v=["scrollbar","morebutton"],_=e('[name="more_options_by"]').val();v.includes(_)?e('[name="height_of_visible_content"]').closest(".control-group").show():e('[name="height_of_visible_content"]').closest(".control-group").hide(),e(".pwf-box-list-label").length>0&&("stock_status"===a||"meta"===a?e(".pwf-box-list-label").closest(".control-group").slideUp("fast"):e(".pwf-box-list-label").closest(".control-group").slideDown("fast")),e('[name="dropdown_style"]').length>0&&k.dropdownDisplayFields(e('[name="dropdown_style"]').val())},hideShowField:function(a,t,i){"show"===t?"fast"===i?e(a).closest(".control-group").show():e(a).closest(".control-group").slideDown("fast"):"fast"===i?e(a).closest(".control-group").hide():e(a).closest(".control-group").slideUp("fast")},dropdownDisplayFields:function(a){var t=e('[name="source_of_options"]').val();"plugin"===a?("orderby"===t||"stock_status"===t?k.hideShowField('[name="multi_select"]',"hide","slow"):k.hideShowField('[name="multi_select"]',"show","slow"),"category"===t||"taxonomy"===t?(e('[name="display_hierarchical"]').closest(".control-group").slideDown("fast"),"on"===e('[name="multi_select"]:checked').val()?k.hideShowField('[name="query_type"]',"show","slow"):k.hideShowField('[name="query_type"]',"hide","slow")):(k.hideShowField('[name="display_hierarchical"]',"hide","slow"),k.hideShowField('[name="query_type"]',"hide","slow"))):(k.hideShowField('[name="display_hierarchical"]',"hide","slow"),k.hideShowField('[name="multi_select"]',"hide","slow"),k.hideShowField('[name="query_type"]',"hide","slow"))}},j={createMetaFields:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;if(Array.isArray(a)||a.length){var t="";return a.forEach((function(a){t+=j.addMetaField(e,a,!1)})),t}},addMetaField:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l="",n="",r="",o="";e.isEmptyObject(t)||(n=t.label,r=t.value,o=t.hasOwnProperty("slug")?t.slug:""),!1===i&&(l=" pwf-hide-meta-content");var s='<div class="pwf-meta-item'+l+'">';s+='<div class="pwf-meta-header">',s+='<div class="meta-title">';var d="Title";if(""!==n&&(d=n),s+=d,s+="</div>",s+='<div class="btn-actions">',s+='<span class="btn-link meta-edit pwf-meta-edit-action">'+p.edit+"</span>",s+='<span class="btn-link meta-close pwf-meta-edit-action">'+p.close+"</span>",s+='<span class="btn-link pwf-meta-remove-action">'+p.remove+"</span>",s+="</div>",s+="</div>",s+='<div class="pwf-meta-content">',s+=j.addTextInput(p.label,"metalabel","label",n),s+=j.addTextInput(p.slug,"metaslug","",o),s+=j.addTextInput(p.value,"metavalue","value",r,p.meta_value_desc),"colorlist"===a&&(s+='<div class="pwf-meta-inner color-list colors">'+j.addColorField(t)+"</div>"),s+="</div>",s+="</div>",!i)return s;e(".meta-field-items").append(s),j.refreshSort(),j.colorFieldEvent()},addTextInput:function(e,a,t,i){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",n='<div class="pwf-meta-inner">';return n+='<div class="label-container"><span="label-text">'+e+"</span></div>",n+='<div class="input-container">',n+='<input placeholder="'+t+'" type="text" class="form-control full-width text" name="'+a+'" value="'+i+'"/>',n+=""===l?"":'<div class="pwf-meta-desc">'+l+"</div>",n+="</div>",n+="</div>"},addColorField:function(e){var a="",t=e.hasOwnProperty("color")?e.color:"",i=e.hasOwnProperty("image")?e.image:"",l=e.hasOwnProperty("type")?e.type:"",n=e.hasOwnProperty("bordercolor")?e.bordercolor:"",r=e.hasOwnProperty("marker")?e.marker:"light",o=Math.floor(1e5*Math.random());a+='<div class="color-item">',a+='<div class="color-inner">',a+='<div class="color-term-header">',a+='<div class="preview-term-container"><div class="preview-holder"'+("color"===l&&""!==t?" style=background-color:"+t:"")+">","image"===l&&""!==i&&(a+='<img class="preview-image" src="'+i+'">'),a+="</div></div>",a+="</div>",a+='<div class="color-term-content">',a+='<div class="inner-fields">';var s="color"===l?"":" hidden";a+='<div class="container list-container">',a+='<div class="color-container'+s+'">',a+='<div class="header"><span class="text">'+p.color+"</span></div>",a+='<div class="content">',a+='<input type="text" name="color" class="color-field" value="'+t+'"/>',a+="</div>",a+="</div>",a+='<div class="image-container'+(s="image"===l?"":" hidden")+'">',a+='<div class="header"><span class="text">'+p.image+"</span></div>",a+='<div class="content">',a+='<input type="text" name="image" class="text hidden image-field" value="'+i+'"/>',a+='<button class="button btn-upload-image">'+p.upload_image+"</button>",a+="</div>",a+="</div>",a+="</div>",a+='<div class="type-container list-container">',a+='<div class="header"><span class="text">'+p.type+"</span></div>",a+='<div class="content"><div class="radio-as-button">';var d="color"===l?" checked":"";return a+='<span class="field-type"><input type="radio" class="type-field" name="type'+o+'" value="color"'+d+'/> <label for="color">'+p.color+"</label></span>",a+='<span class="field-type"><input type="radio" class="type-field" name="type'+o+'" value="image"'+(d="image"===l?" checked":"")+'/> <label for="image">'+p.image+"</label></span>",a+="</div></div>",a+="</div>",a+="</div>",a+='<div class="inner-fields">',a+='<div class="border-container list-container">',a+='<div class="header"><span class="text">'+p.border+"</span></div>",a+='<div class="content"><div class="wrap-color">',a+='<input type="text" class="bordercolor-field" name="bordercolor" class="color-field" value="'+n+'"/>',a+="</div></div>",a+="</div>",a+='<div class="marker-container list-container">',a+='<div class="header"><span class="text">'+p.marker+"</span></div>",a+='<div class="content"><div class="radio-as-button">',a+='<span class="field-type"><input type="radio" class="marker-field" name="marker'+o+'" value="light"'+(d="light"===r?" checked":"")+'/> <label lass="field-type-text">'+p.marker_light+"</label></span>",a+='<span class="field-type"><input type="radio" class="marker-field" name="marker'+o+'" value="dark"'+(d="dark"===r?" checked":"")+'/> <label lass="field-type-text">'+p.marker_dark+"</label></span>",a+="</div></div>",a+="</div>",a+="</div>",a+="</div>",a+="</div>",a+="</div>"},removeMetaField:function(a){e(a).closest(".pwf-meta-item").remove()},editMetaField:function(a){e(a).closest(".pwf-meta-item").toggleClass("pwf-hide-meta-content")},sortEvent:function(){e(".meta-field-items").sortable({connectWith:".meta-field-items",handle:".pwf-meta-header",cancel:".pwf-meta-toggle",placeholder:"pwf-meta-placeholder"})},refreshSort:function(){e(".meta-field-items").sortable("refresh")},colorFieldEvent:function(){e(".pwf-meta-item .color-field").wpColorPicker({border:!0,change:function(a,t){e(this).closest(".color-item").find(".preview-image").length>0&&e(this).closest(".color-item").find(".preview-image").remove(),e(this).closest(".color-item").find(".preview-holder").css("background-color",t.color.toString()),P.addAttributeRequiredValidate("item_panel","true")}}),e(".pwf-meta-item .bordercolor-field").wpColorPicker({border:!0,change:function(e,a){P.addAttributeRequiredValidate("item_panel","true")}})}},P={addAttributeRequiredValidate:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;""===a&&(a=_()),"item_panel"===a?e(".panel-group .item-panel").attr("data-required-validate",t):e(".panel-group .setting-panel").attr("data-required-validate",t),"true"===t?"item_panel"===a?e(".panel-group .item-panel").find(".apply-panel-button").prop("disabled",!1):e(".panel-group .setting-panel").find(".apply-panel-button").prop("disabled",!1):"false"===t&&("item_panel"===a?e(".panel-group .item-panel").find(".apply-panel-button").prop("disabled",!0):e(".panel-group .setting-panel").find(".apply-panel-button").prop("disabled",!0))},hasPanelRequiredValidate:function(a){if("item_panel"===a)var t=e(".panel-group").find(".item-panel").attr("data-required-validate");else t=e(".panel-group").find(".setting-panel").attr("data-required-validate");return"true"===t},checkFieldHasValue:function(e){return void 0!==i(e)&&!1!==e&&""!==e?e:""},addActiveLoader:function(){e(".pwf-overlay").length>0?e(".pwf-overlay").removeClass("pwf-unactive").addClass("pwf-active"):e("body").prepend('<div class="pwf-overlay pwf-active"><span class="pwf-loader"></span></div>')},removeActiveLoader:function(){e(".pwf-overlay").removeClass("pwf-active").addClass("pwf-unactive")},processingPanel:function(){P.addActiveLoader();var e=!1,a=_();return P.hasPanelRequiredValidate(a)?P.validatePanelData(a)?(P.addAttributeRequiredValidate(a,"false"),P.savePanelData(a),e=!0):(alert(p.alert_message),P.addAttributeRequiredValidate(a,"true"),e=!1):e=!0,P.removeActiveLoader(),e},validatePanelData:function(a){var t=!0,l="";if("item_panel"===a){e(".option-panel-form .alert-danger").length>0&&e(".option-panel-form .alert-danger").remove();var n=e("form.option-panel-form :input");l=e(".option-panel-form").closest(".panel-item").attr("data-filter-panel-id")}else{e(".setting-panel-form .alert-danger").length>0&&e(".setting-panel-form .alert-danger").remove();n=e(".setting-panel-form :input")}var r=e(".item-panel").attr("data-panel-type");if("rangeslider"===r)"two"!==e('input[name="range_slider_url_format"]:checked').attr("value")?(e('input[name="url_key_range_slider_min"]').removeAttr("aria-required"),e('input[name="url_key_range_slider_max"]').removeAttr("aria-required")):(e('input[name="url_key_range_slider_min"]').attr("aria-required","true"),e('input[name="url_key_range_slider_max"]').attr("aria-required","true"));else if("priceslider"===r){"two"!==e('input[name="price_url_format"]:checked').attr("value")?(e('input[name="url_key_min_price"]').removeAttr("aria-required"),e('input[name="url_key_max_price"]').removeAttr("aria-required")):(e('input[name="url_key_min_price"]').attr("aria-required","true"),e('input[name="url_key_max_price"]').attr("aria-required","true"))}return n.each((function(a,n){var r=e(n).attr("aria-required");if("undefined"!==i(r)&&!1!==r){var o=e(n).val();if(!o)return t=!1,!e(n).closest(".control-content").find(".alert-danger").length>0&&e(n).closest(".control-content").append(m()),t;var s=e(n).attr("name");if(["url_key","url_key_min_price","url_key_max_price","url_key_date_before","url_key_date_after","url_key_range_slider_min","url_key_range_slider_max"].includes(s))if(!1===h.init(o,l))return t=!1,!e(n).closest(".control-content").find(".alert-danger").length>0&&e(n).closest(".control-content").append(f()),t}})),e(".option-panel-form").find('[name="item_source_stock_status"]').length&&e('[name="item_source_stock_status"]:checked').length<=0&&(t=!1,e('[name="item_source_stock_status"]').closest(".control-content").find(".alert-danger").length||e('[name="item_source_stock_status"]').closest(".control-content").append(m())),t},getValidatePanelData:function(a){var t={};return e(a).each((function(a,i){if("multicheckbox"===i.type||"ajaxmulticheckboxlist"===i.type){var l=[];e.each(e('input[name="'+i.param_name+'"]:checked'),(function(){l.push(e(this).val())})),t[i.param_name]=l}else if("switchbutton"===i.type){var n="";e('input[name="'+i.param_name+'"]').is(":checked")&&(n=e('input[name="'+i.param_name+'"]').val()),t[i.param_name]=n}else if("radio"===i.type){var r;r=e('input[name="'+i.param_name+'"]:checked').attr("value"),t[i.param_name]=r}else if("ajaxdropdownselect2"===i.type){var o=[],s=e('[name="'+i.param_name+'"]').select2("data");e.each(s,(function(e,a){o.push(a.id)})),t[i.param_name]=o}else{var d=e(".panel-group").find("[name="+i.param_name+"]").val();t[i.param_name]=d||""}})),t},savePanelData:function(a){if("item_panel"===a){var n=e(".panel-group .item-panel").attr("data-panel-type"),r=e(".panel-group .item-panel").attr("data-filter-panel-id"),o=x.getPanelFields(n),s=o.general,d=o.visual,p=e.merge(s,d),u=P.getValidatePanelData(p);if("meta"===u.source_of_options&&e(".meta-field-items").find(".pwf-meta-item").length>0){var m=[],f=e(".pwf-meta-item");e(f).each((function(a,t){var i=e(t).find('[name="metalabel"]').val(),l=e(t).find('[name="metaslug"]').val(),n=e(t).find('[name="metavalue"]').val();if(i.length&&n.length){var r={label:i,slug:l,value:n};e(".panel-colorlist").length>0&&(r.color=P.checkFieldHasValue(e(t).find(".color-field").val()),r.image=P.checkFieldHasValue(e(t).find(".image-field").val()),r.type=P.checkFieldHasValue(e(t).find(".type-field:checked").attr("value")),r.bordercolor=P.checkFieldHasValue(e(t).find(".bordercolor-field").val()),r.marker=P.checkFieldHasValue(e(t).find(".marker-field:checked").attr("value"))),m.push(r)}})),u.metafield=m}else u.metafield="";if("meta"!==u.source_of_options&&e(".panel-colorlist").length>0){var v=[];e(".color-item").each((function(a,t){var i=e(t).attr("term-id");if(i){var l={term_id:i,color:P.checkFieldHasValue(e(t).find(".color-field").val()),image:P.checkFieldHasValue(e(t).find(".image-field").val()),type:P.checkFieldHasValue(e(t).find(".type-field:checked").attr("value")),bordercolor:P.checkFieldHasValue(e(t).find(".bordercolor-field").val()),marker:P.checkFieldHasValue(e(t).find(".marker-field:checked").attr("value"))};v.push(l)}})),u.colors=v}else u.colors="";if(e(".panel-boxlist").length>0){var _=[];e(".lable-item").each((function(a,t){var l=e(t).find(".item-value").val(),n=e(t).attr("data-item-label-id");if(void 0!==i(l)&&!1!==l&&""!==l&&void 0!==i(n)&&!1!==n&&""!==n){var r={term_id:n,value:l};_.push(r)}})),u.boxlistlabel=_}if(e(".pwf-rule").length>0){var h=[];e(".pwf-rule").each((function(a,t){var i=e(t).find(".field-rule-param").val(),l=e(t).find(".field-rule-value-select2").val();if(""!==l){var n={param:i,value:l};h.push(n)}})),Array.isArray(h)&&h.length?u.hidden_rules=h:u.hidden_rules=""}u.item_type=n,l[r]=u,e(".filters-list").find("[data-filter-id="+r+"]").find(".filter-title").text(u.title)}else{var g=c.general,y=c.selectors,b=c.extra,w=c.responsive,k=e.merge(g,y);k=e.merge(k,b),k=e.merge(k,w);var j=P.getValidatePanelData(k),O=(t=j).post_title;e(".wp-heading-inline .heading-filter-title").length>0?e(".wp-heading-inline .heading-filter-title").text(O):e(".wp-heading-inline").append('<span class="heading-filter-title">'+O+"</span>")}}},O=0;function F(){if(P.processingPanel()){var a,n;n=function a(t){var n={};return e(t).each((function(t,r){var o=e(r).attr("data-filter-id"),s=e(r).attr("data-layout");if("undefined"!==i(s)&&!1!==s&&"column"===s){var d=l[o],c=e(r).find(".column-inner").first().children(".filter-item"),p="id-"+O;O++,!e.isEmptyObject(c)&&c.length>0?(d.children=a(c),n[p]=d):(d.children={},n[p]=d)}else n["id-"+O]=l[o],O++})),n}(e(".filters-list").children(".filter-item")),O=0,a={setting:t,items:n};var r="";return"edit"===d.current_screen&&(r=d.post_id),e.ajax({type:"POST",dataType:"json",url:ajaxurl,data:{action:"save_filter_post",nonce:d.nonce,data:JSON.stringify(a),post_id:r},beforeSend:function(){P.addActiveLoader(),e(".filters-btn").find(".message").length>0&&e(".filters-btn").find(".message").remove()}}).done((function(a){"true"===a.success?("edit"!==d.current_screen&&(d.current_screen="edit",d.post_id=a.post_id,function(e){if(d.hasOwnProperty("edit_link")){var a=d.edit_link;a=a.replace("post_id",e),window.location.href=a}}(a.post_id)),e(".filters-btn").prepend('<span class="message success-message">'+p.filter_post_updated+"</span>"),setTimeout((function(){e(".filters-btn").find(".message").remove()}),1e4)):e(".filters-btn").prepend('<span class="message error-message">'+a.message+"</span>")})).fail((function(a,t,i){e(".filters-btn").prepend('<span class="message error-message">'+p.error+" : "+i+"</span>")})).always((function(){P.removeActiveLoader()})),!1}}function C(a,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l={action:a,nonce:d.nonce};return"get_hierarchy_taxonomies_using_ajax"===a||"get_taxonomies_using_ajax"===a?(l.source_of_option=t.source_of_option,l.taxonomy_name=t.taxonomy_name,l.parent=t.parent,"get_taxonomies_using_ajax"===a&&t.hasOwnProperty("add_all_text")&&(l.add_all_text=t.add_all_text),t.hasOwnProperty("user_roles")&&(l.user_roles=t.user_roles)):"get_group_taxonomies_using_ajax"===a&&(l.source=i),e.ajax({type:"POST",dataType:"json",url:ajaxurl,data:l})}if(d.hasOwnProperty("filter_meta")){var q=JSON.parse(d.filter_meta);""!==q.setting&&"false"!==q.setting&&(t=q.setting),""!==q.items&&null!==q.items?b.createFilterItems(q.items):b.initSortEvent(),k.initEditPanelEvent()}if("edit"===d.current_screen){var E=q.setting.post_title;e(".wp-heading-inline").append('<span class="heading-filter-title">'+E+"</span>")}!function(){var a;function t(a){a.includes("pagination")?(e('[name="pagination_selector"]').attr("aria-required","true"),e('[name="pagination_selector"]').closest(".control-group").show(),e('[name="pagination_ajax"]').closest(".control-group").slideDown(),e('[name="pagination_type"]').closest(".control-group").slideDown()):(e('[name="pagination_selector"]').closest(".control-group").hide(),e('[name="pagination_selector"]').removeAttr("aria-required"),e('[name="pagination_ajax"]').closest(".control-group").slideUp(),e('[name="pagination_type"]').closest(".control-group").slideUp()),a.includes("sorting")?(e('[name="sorting_selector"]').closest(".control-group").show(),e('[name="sorting_selector"]').attr("aria-required","true"),e('[name="sorting_ajax"]').closest(".control-group").slideDown()):(e('[name="sorting_selector"]').closest(".control-group").hide(),e('[name="sorting_selector"]').removeAttr("aria-required"),e('[name="sorting_ajax"]').closest(".control-group").slideUp()),a.includes("results_count")?(e('[name="result_count_selector"]').closest(".control-group").show(),e('[name="result_count_selector"]').attr("aria-required","true")):(e('[name="result_count_selector"]').closest(".control-group").hide(),e('[name="result_count_selector"]').removeAttr("aria-required"))}e(".pro-woo-filter").on("click",".reset-panel-button",(function(e){e.preventDefault(),x.resetPanel()})),e(".pro-woo-filter").on("click",".apply-panel-button",(function(e){e.preventDefault(),x.apply_panel_button()})),e(".pro-woo-filter").on("click",".filters-btn .add-item",(function(e){if(e.preventDefault(),P.processingPanel()){var a=(t="",i=p.select_filter_item,l=[{panelLabel:p.field,panelItems:[{id:"checkboxlist",text:p.checkboxlist},{id:"radiolist",text:p.radiolist},{id:"dropdownlist",text:p.dropdownlist},{id:"colorlist",text:p.colorlist},{id:"boxlist",text:p.boxlist},{id:"textlist",text:p.textlist},{id:"date",text:p.date},{id:"priceslider",text:p.priceslider},{id:"rangeslider",text:p.range_slider},{id:"rating",text:p.rating},{id:"search",text:p.search},{id:"button",text:p.button}]},{panelLabel:p.preset,panelItems:[{id:"productcategories",text:p.categories},{id:"stockstatus",text:p.stockstatus}]},{panelLabel:p.layout,panelItems:[{id:"column",text:p.column}]}],t+='<div class="panel-item panel-filter-type postbox status-active-panel">',t+='<div class="panel-container">',t+='<div class="panel-header">',t+='<div class="wrap-title"><span class="link-back">< '+p.btn_back+'</span><h2 class="panel-title">'+i+"</h2></div>",t+="</div>",l.forEach((function(e){t+='<div class="pwf-items-list">',t+='<div class="pwf-items-lable">'+e.panelLabel+"</div>",t+='<div class="pwf-items-content pwf-flex-content">',e.panelItems.forEach((function(e){t+='<div class="pwf-flex-item add-new-element" data-item-type="'+e.id+'"><div class="pwf-item-inner"><div class="filter-type-text">'+e.text+"</div></div></div>"})),t+="</div>",t+="</div>"})),t+="</div>",t+="</div>");x.displayPanel("additem",a)}var t,i,l})),e(".pro-woo-filter").on("click",".save-project",(function(e){e.preventDefault(),F()})),e(".pro-woo-filter").on("change input",".setting-panel-form :input, ul.list input",(function(a){a.preventDefault(),P.addAttributeRequiredValidate("setting_panel","true");var t=e(this).closest(".control-content").find(".alert-danger");t&&t.remove()})),e(".pro-woo-filter").on("change input click",".option-panel-form :input, .image-field, .type-field, .bordercolor-field, .marker-field, ul.list input",(function(a){var t=e(this).attr("name");if(!["url_key","url_key_min_price","url_key_max_price","url_key_date_before","url_key_date_after","url_key_range_slider_min","url_key_range_slider_max"].includes(t)){P.addAttributeRequiredValidate("item_panel","true");var i=e(this).closest(".control-content").find(".alert-danger");i&&i.remove()}})),e(".pro-woo-filter").on("click",".setting-panel .panel-header .nav-tab-heading",(function(a){a.preventDefault(),e(this).closest(".panel-container").find(".active-tab").removeClass("active-tab").addClass("active-tab");var t=e(this).attr("data-tab-id");e(this).closest(".panel-container").find(".tab-content").hide(),e(this).closest(".panel-container").find(".wrap-tabs").find("[data-tab-id="+t+"]").addClass("active-tab").show()})),e(".pro-woo-filter").on("click",".btn-actions .edit-action",(function(a){a.preventDefault(),x.editPanel(e(this))})),e(".pro-woo-filter").on("click",".btn-actions .remove-action",(function(a){a.preventDefault(),!0===confirm("Are you sure you want to remove this item?")&&b.removeItem(e(this))})),e(".pro-woo-filter").on("click",".link-back",(function(e){e.preventDefault(),x.backLinkButton()})),e(".pro-woo-filter").on("click",".panel-group .add-new-element",(function(a){a.preventDefault();var t=e(this).attr("data-item-type"),i=b.generateFilterItemID(),l={panelType:t,FilterItemID:i,requireValidate:"true",predefinedPanel:""},n="",r="";"column"===t?(r=b.addNewColumn(i),n=x.init(l)):("productcategories"===t?(l.panelType="checkboxlist",l.predefinedPanel="productcategories"):"stockstatus"===t&&(l.panelType="radiolist",l.predefinedPanel="stockstatus"),n=x.init(l),r=b.addNewItem(l.panelType,i)),x.displayPanel("additemtype",n,"",r)})),e(".pro-woo-filter").on("change",".type-field",(function(a){"color"===e(this).val()?(e(this).closest(".inner-fields").find(".color-container").show(),e(this).closest(".inner-fields").find(".image-container").hide()):(e(this).closest(".inner-fields").find(".color-container").hide(),e(this).closest(".inner-fields").find(".image-container").show())})),e(".panel-group").on("change input click",":input",(function(e){P.addAttributeRequiredValidate("item_panel","true")})),e(".pro-woo-filter").on("click",".btn-upload-image",(function(t){t.preventDefault();var i=this;(a=wp.media.frames.metaImageFrame=wp.media({button:{text:p.upload_image}})).on("select",(function(){var t=a.state().get("selection").first().toJSON();e(i).closest(".image-container").find(".image-field").val(t.url).trigger("input"),e(i).closest(".color-item").find(".preview-image").length>0&&e(i).closest(".color-item").find(".preview-image").remove(),e(i).closest(".color-item").find(".preview-holder").append('<img class="preview-image" src="'+t.url+'">')})),a.open()})),e(".pro-woo-filter").on("click",".panel-container .panel-header .nav-tab-heading",(function(a){a.preventDefault(),e(this).closest(".panel-container").find(".active-tab").removeClass("active-tab"),e(this).addClass("active-tab");var t=e(this).attr("data-tab-id");e(this).closest(".panel-container").find(".tab-content").hide(),e(this).closest(".panel-container").find(".wrap-tabs").find("[data-tab-id="+t+"]").addClass("active-tab").show()})),e(".pro-woo-filter").on("click",".add-rule",(function(a){a.preventDefault(),P.addAttributeRequiredValidate("item_panel","true"),w.displayRulesField.addNewRule(e(this))})),e(".pro-woo-filter").on("click",".remove-rule",(function(a){a.preventDefault(),P.addAttributeRequiredValidate("item_panel","true"),w.displayRulesField.removeRule(e(this))})),e(".pro-woo-filter").on("change",'[name="user_roles"], [name="item_display"], [name="source_of_options"], [name="item_source_category"], [name="item_source_taxonomy_sub"], [name="item_source_attribute"], [name="item_source_taxonomy"]',(function(a){var t=e(this).attr("name");"source_of_options"!==t&&"item_source_taxonomy"!==t||k.changeTaxonomyDropdowList(),k.changeIncludeExcludeFieldData(),k.changeboxlistlabel(),e(".panel-colorlist").length>0&&k.fillAjaxColorFields()})),e(".pro-woo-filter").on("input",'[name="url_key"], [name="url_key_min_price"], [name="url_key_max_price"], [name="url_key_date_before"], [name="url_key_date_after"], [name="url_key_range_slider_min"], [name="url_key_range_slider_max"]',(function(a){a.preventDefault();var t=e(this).closest(".panel-item").attr("data-filter-panel-id");h.init(e(this).val(),t)?e(this).closest(".control-content").find(".alert-danger").length>0&&e(this).closest(".control-content").find(".alert-danger").remove():!e(this).closest(".control-content").find(".alert-danger").length>0&&e(this).closest(".control-content").append(f())})),e(".pro-woo-filter").on("change",".field-rule-param",(function(a){var t=this,i=e(this).val();if("category"===i){var l=d.product_categories;e(t).closest(".rule").find(".field-rule-value-select2").empty().select2({data:l,width:"100%"})}else if(r.hasOwnProperty(i))e(t).closest(".rule").find(".field-rule-value-select2").empty().select2({data:r[i],width:"100%"});else{var n=C("get_group_taxonomies_using_ajax","",i);n.done((function(a){r[i]=a.data.data,e(t).closest(".rule").find(".field-rule-value-select2").empty().select2({data:a.data.data,width:"100%"})})),n.fail((function(e,a,t){}))}})),e(".pro-woo-filter").on("change",'[name="price_url_format"]',(function(a){"dash"===e(this).val()?e('[name="url_key_min_price"], [name="url_key_max_price"]').closest(".control-group").slideUp("fast"):e('[name="url_key_min_price"], [name="url_key_max_price"]').closest(".control-group").slideDown("fast"),P.addAttributeRequiredValidate("","true")})),e(".pro-woo-filter").on("change",'[name="range_slider_url_format"]',(function(a){"dash"===e(this).val()?e('[name="url_key_range_slider_min"], [name="url_key_range_slider_max"]').closest(".control-group").slideUp("fast"):e('[name="url_key_range_slider_min"], [name="url_key_range_slider_max"]').closest(".control-group").slideDown("fast"),P.addAttributeRequiredValidate("","true")})),e(".pro-woo-filter").on("change",'[name="source_of_options"]',(function(a){k.eventSourceOfOptions(e(this).val(),"slow"),k.displayParentOption(),P.addAttributeRequiredValidate("","true")})),e(".pro-woo-filter").on("change",'[name="display_hierarchical"]',(function(a){e(this).is(":checked")?e('[name="display_hierarchical_collapsed"]').closest(".control-group").slideDown("fast"):e('[name="display_hierarchical_collapsed"]').closest(".control-group").slideUp("fast")})),e(".pro-woo-filter").on("change",'[name="dropdown_style"]',(function(a){k.dropdownDisplayFields(e(this).val())})),e(".pro-woo-filter").on("change",'[name="inline_style"]',(function(a){e(this).is(":checked")?e('[name="display_hierarchical"]').closest(".control-group").slideUp("fast"):e('[name="display_hierarchical"]').closest(".control-group").slideDown("fast")})),e(".pro-woo-filter").on("change",'[name="display_title"]',(function(a){e(this).is(":checked")?(e('[name="display_toggle_content"]').closest(".control-group").slideDown("fast"),e('[name="display_toggle_content"]').is(":checked")&&e('[name="default_toggle_state"]').closest(".control-group").slideDown("fast")):(e('[name="display_toggle_content"]').closest(".control-group").slideUp("fast"),e('[name="default_toggle_state"]').closest(".control-group").slideUp("fast"))})),e(".pro-woo-filter").on("change",'[name="display_toggle_content"]',(function(a){e(this).is(":checked")?e('[name="default_toggle_state"]').closest(".control-group").slideDown("fast"):e('[name="default_toggle_state"]').closest(".control-group").slideUp("fast")})),e(".pro-woo-filter").on("click",".pwf-add-new-meta",(function(a){a.preventDefault();var t=e(".panel-group .item-panel").attr("data-panel-type");j.addMetaField(t)})),e(".pro-woo-filter").on("click",".pwf-meta-remove-action",(function(a){a.preventDefault(),j.removeMetaField(e(this))})),e(".pro-woo-filter").on("click",".pwf-meta-edit-action",(function(a){a.preventDefault(),j.editMetaField(e(this))})),e(".pro-woo-filter").on("change",'[name="multi_select"]',(function(a){"on"===e('[name="multi_select"]:checked').val()?e('[name="query_type"]').closest(".control-group").slideDown():e('[name="query_type"]').closest(".control-group").slideUp()})),e(".pro-woo-filter").on("change",'[name="more_options_by"]',(function(a){var t=e(this).val();["scrollbar","morebutton"].includes(t)?e('[name="height_of_visible_content"]').closest(".control-group").slideDown("fast"):e('[name="height_of_visible_content"]').closest(".control-group").slideUp("fast")})),e(".pro-woo-filter").on("change",'[name="usecomponents"]',(function(a){var i=[];e.each(e('input[name="usecomponents"]:checked'),(function(){i.push(e(this).val())})),t(i)}));var i=[];function l(a){"button"===a?e('[name="filter_button_state"]').closest(".control-group").slideDown("fast"):e('[name="filter_button_state"]').closest(".control-group").slideUp("fast")}function n(a){"on"===a?(e('[name="responsive_filtering_starts"]').closest(".control-group").slideDown("fast"),e('[name="responsive_append_sticky"]').closest(".control-group").slideDown("fast"),e('[name="responsive_width"]').closest(".control-group").slideDown("fast")):(e('[name="responsive_filtering_starts"]').closest(".control-group").slideUp("fast"),e('[name="responsive_append_sticky"]').closest(".control-group").slideUp("fast"),e('[name="responsive_width"]').closest(".control-group").slideUp("fast"))}function o(a){"on"===a?e('[name="shortcode_string"]').closest(".control-group").slideDown("fast"):e('[name="shortcode_string"]').closest(".control-group").slideUp("fast")}e.each(e('input[name="usecomponents"]:checked'),(function(){i.push(e(this).val())})),t(i),e(".pro-woo-filter").on("click","transparent",(function(e){e.preventDefault()})),e(".pro-woo-filter").on("change",'[name="display_filter_as"]',(function(a){l(e(this).val())})),e('[name="display_filter_as"]').length>0&&l(e('[name="display_filter_as"]').val()),e(".pro-woo-filter").on("change",'[name="responsive"]',(function(a){n(e('[name="responsive"]:checked').val())})),e('[name="responsive"]').length>0&&n(e('[name="responsive"]:checked').val()),e(".pro-woo-filter").on("change",'[name="is_shortcode"]',(function(a){o(e('[name="is_shortcode"]:checked').val())})),e('[name="is_shortcode"]').length>0&&o(e('[name="is_shortcode"]:checked').val()),e(".pro-woo-filter").on("change",'[name="range_slider_meta_source"]',(function(a){"custom"===e(this).val()?e('[name="meta_key"]').closest(".control-group").slideDown():e('[name="meta_key"]').closest(".control-group").slideUp()}))}()}(jQuery)}]);